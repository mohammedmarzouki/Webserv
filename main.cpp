#include "webserv.hpp"

int main(int argc, char **argv)
{
	std::string config_file;
	std::vector<webserv::Server> servers;

	//////////////////////////////////////////////////
	// Initialization
	//////////////////////////////////////////////////
	print_help(argc, argv, config_file);
	read_config(config_file);

	//////////////////////////////////////////////////
	// Parsing
	//////////////////////////////////////////////////
	webserv::Parser parser;
	try{
		servers = parser.parse(config_file);
	}
	catch (std::string &err) {
		exit_err(err);
	}
	webserv::print_servers(servers);

	//////////////////////////////////////////////////
	// Processing
	//////////////////////////////////////////////////
	{
	}
	return 0;
}
